# Проект API для фильмов
## Описание проекта
Каталог фильмов с CRUD-операциями и хранением данных в БД.
## Основные возможности приложения
Благодаря API, вы можете добавлять, обновлять информацию, удалять фильмы, искать фильмы по ID или сортировать их по характеристикам.
## Технологический стек
Данный API использует Python в качестве языка программирования. Библиотеки: FastAPI, SQLAlchemy, DateTime, Pydantic, Asyncio, Pytest.
## Итоговая структура проекта
Структура выглядит следующим образом:
project-films/ \n
| → alembic/
|   → versions/
|     → d981bbcd7795_init_movies.py
| → src/
|   → models/
|     → __init__.py
|     → movie.py
|   → repositories/
|     → movies.py
|   → routers/
|     → movies.py
|   → schemas/
|     → __init__.py
|     → movie.py
|   → database.py
|   → main.py
| → tests/
|   → conftest.py
|   → test_movies.py
| → alembic.ini
| → movies.db
| → requirements.txt
## "Быстрый старт"
Чтобы быстро запустить данный проект, сделайте следующие шаги:
1. Клонируйте данный репозиторий (git clone https://github.com/nikizhi/project-films)
2. Установите зависимости: для этого необходимо в папке проекта прописать python -m venv venv, затем venv\Scripts\activate (для Windows) или source venv/bin/activate (для MacOS/Linux)
3. Установите необходимые библиотеки, написав pip install -r requirements.txt
4. Примените миграции с помощью команды alembic upgrade head
5. Запустите приложение, используя команду uvicorn main:app --reload.
## Основные эндпоинты
GET-запрос "/" - просто выводит список фильмов с БД
GET-запрос "/{ID}" - выводит конкретный фильм по ID
POST-запрос "/" - создает новую запись фильма в БД
PUT-запрос "/{ID}" - обновляет все данные о фильме
PATCH-запрос "/{ID}" - частично меняет данные о фильме
DELETE-запрос "/{ID}" - удаляет фильм из БД
## Фильтрация и сортировка
Изначально, вы получите до 50 фильмов с сортировкой по рейтингу по убыванию. Однако, сортировку можно настроить по другому фактору и поменять направление (например, можно отсортироввть по году выпуска по возрастанию).
Данный API также поддерживает фильтрацию данных, можно выставить минимальный/максимальный год и минимальный рейтинг, также может быть использована вместе с сортировкой.
## Модель данных
Здесь используется база данных с таблицей **movies**, которая имеет следующие атрибуты:
**id** - **первичный ключ**, целочисленный, обязателен к заполнению
**title** - строчный, обязателен к заполнению
**genre** - строчный, целочисленный, обязателен к заполнению
**rating** - вещественночисленный, целочисленный, обязателен к заполнению
**year** - целочисленный, целочисленный, обязателен к заполнению
## Ограничения базы данных
Атрибут **rating** не может быть вне диапазона от 0 до 10.
Атрибут **year** не может быть меньше 1888, именно тогда был создан самый первый фильм.
